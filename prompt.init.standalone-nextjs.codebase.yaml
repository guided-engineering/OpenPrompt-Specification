$schema: .guides/schema/prompt.schema.json
apiVersion: ops/v1
id: init.standalone-nextjs.codebase
title: Initialize Standalone Next.js Project (pt-BR default, PNPM, CLI-first, i18n)
persona: ProjectBootstrapper
category: implementation
difficulty: medium
workspace: ./
context: |
  Initialize a production-ready Next.js 15 project with a modern stack, enforcing PNPM, full ESLint+Prettier, Tailwind 4, shadcn/ui, automated commits/releases, and internationalization with pt-BR as default.

  **Explicit CLI commands for required scaffolding and initial config:**
  1. Scaffold the project: `pnpm create next-app@latest . --ts --eslint --tailwind --app --src-dir --import-alias "@/*"`
  2. Initialize Husky: `pnpm dlx husky-init && pnpm install`
  3. Initialize shadcn/ui: `pnpm dlx shadcn@latest init`
  4. (Optional) Initialize Commitizen: `npx commitizen init cz-conventional-changelog --save-dev --save-exact`

  All other dependencies and configurations should be added and edited manually (pnpm add / config files).

  i18n is enabled via next-intl with pt-BR as defaultLocale, and 'en', 'es' as additional supported locales.

personaDetails:
  id: ProjectBootstrapper
  name: Project Bootstrapper
  description: |
    Specialist responsible for initializing new projects with best practices, automation, and robust tooling.
    Ensures all tools, configurations, and conventions are implemented for a modern web development stack.
    Proficient in scripting, automation, developer experience, and CI/CD setup.

dependencies:
  - Node.js 22
  - PNPM 10 (enforced)
  - Git initialized (required before Husky)
  - Internet access

output:
  - file: ./package.json
    language: json
    rules:
      - Must include scripts and devDependencies for the stack
      - Must set `"engines": { "pnpm": ">=10.0.0" }`
      - Must include `packageManager` field for PNPM
  - file: ./eslint.config.js
    language: js
    rules:
      - Must use ESLint Flat Config for version 9
      - Must remove any `.eslintrc*` files or `eslintConfig` in package.json
  - file: ./tailwind.config.ts
    language: ts
  - file: ./postcss.config.js
    language: js
  - file: ./.prettierrc
    language: json
  - file: ./commitlint.config.js
    language: js
  - file: ./release.config.js
    language: js
    rules:
      - Must configure release-it with `@release-it/conventional-changelog`
      - Must include scripts for versioning and changelog
  - file: .husky/pre-commit
    language: bash
  - file: .husky/commit-msg
    language: bash
  - file: ./i18n/config.ts
    language: ts
    rules:
      - Must setup next-intl with 'pt-BR' as defaultLocale and ['pt-BR', 'en', 'es'] as supportedLocales
      - Must be ready to add more languages easily
  - file: ./i18n/messages/pt-BR.json
    language: json
    rules:
      - Must include at least one sample key (e.g., "hello": "Ol√°")
  - file: ./i18n/messages/en.json
    language: json
    rules:
      - Must include at least one sample key (e.g., "hello": "Hello")
  - file: ./i18n/messages/es.json
    language: json
    rules:
      - Must include at least one sample key (e.g., "hello": "Hola")

steps:
  - id: scaffold-nextjs
    title: Scaffold Next.js 15 project via CLI
    actions:
      - Run: pnpm create next-app@latest . --ts --eslint --tailwind --app --src-dir --import-alias "@/*"
      - Remove unnecessary boilerplate files and any default .eslintrc*
      - Add `engines.pnpm` and `packageManager` fields to package.json

  - id: init-husky
    title: Initialize Husky via CLI
    actions:
      - Run: pnpm dlx husky-init && pnpm install
      - Overwrite `.husky/pre-commit` with: `pnpm lint && pnpm format`
      - Create `.husky/commit-msg` with: `pnpm exec commitlint --edit "$1"`

  - id: init-shadcn
    title: Initialize shadcn/ui via CLI
    actions:
      - Run: pnpm dlx shadcn@latest init
      - Select Tailwind CSS and set app directory

  - id: init-commitizen
    title: (Optional) Initialize Commitizen via CLI
    actions:
      - Run: npx commitizen init cz-conventional-changelog --save-dev --save-exact
      - Or configure manually in package.json

  - id: install-deps
    title: Install and configure remaining dependencies manually
    actions:
      - Install all required packages (pnpm add/pnpm add -D)
      - Configure: eslint.config.js, tailwind.config.ts, postcss.config.js, .prettierrc, commitlint.config.js, release.config.js, i18n/config.ts, i18n/messages/*.json

  - id: setup-i18n
    title: Configure next-intl i18n with pt-BR, en, es
    actions:
      - Create `i18n/config.ts` with:
          * `defaultLocale: 'pt-BR'`
          * `locales: ['pt-BR', 'en', 'es']`
      - Create translation files with sample keys
      - Configure `_app.tsx` to use next-intl provider
      - Document how to add new languages

  - id: validate-setup
    title: Run final validations
    actions:
      - Run: pnpm lint
      - Run: pnpm format
      - Run: pnpm dev

tags:
  - nextjs
  - typescript
  - pnpm
  - tailwind
  - shadcn
  - eslint
  - prettier
  - husky
  - commitizen
  - release-it
  - i18n
  - bootstrap

createdBy: user
version: 1.3.0
